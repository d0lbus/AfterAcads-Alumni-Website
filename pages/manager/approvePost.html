<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Posts</title>
    <link rel="stylesheet"
        href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css" />
    <link rel="stylesheet" href="../../style/manager/approvePost.css" />
    <script src="script.js" defer></script>
</head>

<body>
    <section>
        <header>
            <div><img class="logo" src="../../assets/alumnilogo.png" alt="afteracads" />
                <img class="afteracadstext" src="../../assets/afteracadstext.png" alt="AfterAcads" />
            </div>
            <ul class="nav-links">
                <li><a href="../../pages/manager/home.html">Home</a></li>
                <li><a href="../../pages/manager/Registrants.html">Registrants</a></li>
                <li><a href="../../pages/manager/approvePost.html">Posts</a></li>
                <li><a href="#">Events</a></li>
                <li><a href="#">Opportunities</a></li>
                <li><a href="../../pages/manager/statistics.html">Statistics</a></li>
            </ul>
            <div class="profile">
                <li><a href="viewProfile.php"><img class="profile-img" src="../../assets/display-photo.png"
                            alt="Profile" /></a></li>
            </div>
        </header>
    </section>
    <div class="approve-posts-section container">
        <div class="button-group">
            <button class="btn pending">Pending Posts</button>
            <button class="btn approved">Approved Posts</button>
            <button class="btn denied">Denied Posts</button>
        </div>
        <table class="post-table">
            <thead>
                <tr>
                    <th>Username</th>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Date</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Joe29</td>
                    <td>Joe</td>
                    <td>Hello</td>
                    <td>11/29/2024</td>
                    <td class="action-buttons">
                        <button class="btn approve">Approve</button>
                        <button class="btn deny">Deny</button>
                    </td>
                </tr>
                <tr>
                    <td>mork12</td>
                    <td>mork</td>
                    <td>Hi</td>
                    <td>11/30/2024</td>
                    <td class="action-buttons">
                        <button class="btn approve">Approve</button>
                        <button class="btn deny">Deny</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="post-details-modal" id="postDetailsModal">
        <div class="modal-content">
            <span class="close-btn" id="closeModal">&times;</span>
            <h2>Post Details</h2>
            <p><strong>Username:</strong> <span id="postName"></span></p>
            <p><strong>Description:</strong> <span id="postDescription"></span></p>
            <p><strong>Image:</strong> <span id="postDescription"></span></p>
            <p><strong>Date:</strong> <span id="postDate"></span></p>

            <div class="modal-buttons">
                <button class="btn approve">Accept</button>
                <button class="btn deny">Deny</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const rows = document.querySelectorAll(".post-table tbody tr");
            const modal = document.getElementById("postDetailsModal");
            const closeModalButton = document.getElementById("closeModal");

            rows.forEach(row => {
                row.addEventListener("click", function () {
                    const name = this.cells[0].textContent; 
                    const description = this.cells[2].textContent; 
                    const date = this.cells[3].textContent; 

                    document.getElementById("postName").textContent = name;
                    document.getElementById("postDescription").textContent = description;
                    document.getElementById("postDate").textContent = date;

                    modal.style.display = "flex"; 
                });
            });

            const approveButtons = document.querySelectorAll(".btn.approve");
            const denyButtons = document.querySelectorAll(".btn.deny");

            approveButtons.forEach(button => {
                button.addEventListener("click", (event) => {
                    event.stopPropagation();
                    console.log("Post Approved");
                });
            });

            denyButtons.forEach(button => {
                button.addEventListener("click", (event) => {
                    event.stopPropagation();
                    console.log("Post Denied");
                });
            });

            closeModalButton.addEventListener("click", () => {
                modal.style.display = "none"; 
            });

            window.addEventListener("click", (event) => {
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            });
        });
    </script>
</body>

</html>